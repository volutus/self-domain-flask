<!DOCTYPE html>
<html>
    <head>
        <title>Chess Demo</title>
        <meta charset="UTF-8">
        <style>
            body {
                display: flex;
                height: 95vh;
            }
            .square:nth-child(odd) {
                background-color: #964d22;
            }
            .square:nth-child(even) {
                background-color: #333;
            }
            div.chess-board {
                border: min(1vw, 1vh) solid gray;
                text-align: center;
                width: min(95vh, 95vw);
                height: min(95vh, 95vw);
                margin: auto;
            }
            .square, .fake-square{
                height: 12.5%;
                width: 12.5%;
                max-height: 100vw;
                max-width: 100vw;
                float: left;
                padding: 0;
                margin: auto;
                display: grid;
	            align-items: center;
	            align-content: center;
            }
            .fake-square {
                display: none;
            }
            .piece {
                font-size: calc(min(12vw, 12vh));
            }
            .black {
                color: black;
            }
            .white {
                color: white;
            }
        </style>
    </head>
    <body>
        <div class="chess-board">
            {% for piece in pieces %}
                <div class="square">
                    <div class="piece {{piece.color}}">{{piece.token}}</div>
                </div>
                {% if (loop.index) % 8 == 0 %}
                    <div class="fake-square"></div>
                {% endif %}
            {% endfor %}
        </div>
    </body>
</html>